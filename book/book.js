"use strict";function playground_text(e,t=!0){const n=e.querySelector("code");return window.ace&&n.classList.contains("editable")?window.ace.edit(n).getValue():t?n.textContent:n.innerText}window.onunload=function(){},function(){function e(e,t,n=6e3){return Promise.race([fetch(e,t),new Promise((e,t)=>setTimeout(()=>t(new Error("timeout")),n))])}const t=Array.from(document.querySelectorAll(".playground"));function n(e,t){const n=e.querySelector(".play-button");if(e.querySelector("code").classList.contains("no_run"))return void n.classList.add("hidden");const o=playground_text(e),i=/extern\s+crate\s+([a-zA-Z_0-9]+)\s*;/g,r=[];let s;for(;s=i.exec(o);)r.push(s[1]);r.every(function(e){return t.indexOf(e)>-1})?n.classList.remove("hidden"):n.classList.add("hidden")}function o(t){let n=t.querySelector(".result");n||(n=document.createElement("code"),n.className="result hljs language-bash",t.append(n));const o=playground_text(t),i=t.querySelector("code").classList;let r="2015";i.forEach(e=>{e.startsWith("edition")&&(r=e.slice(7))});const s={version:"stable",optimize:"0",code:o,edition:r};-1!==o.indexOf("#![feature")&&(s.version="nightly"),n.innerText="Running...",e("https://play.rust-lang.org/evaluate.json",{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(s)}).then(e=>e.json()).then(e=>{""===e.result.trim()?(n.innerText="No output",n.classList.add("result-no-output")):(n.innerText=e.result,n.classList.remove("result-no-output"))}).catch(e=>n.innerText="Playground Communication: "+e.message)}t.length>0&&e("https://play.rust-lang.org/meta/crates",{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors"}).then(e=>e.json()).then(e=>{const i=e.crates.map(e=>e.id);t.forEach(e=>function(e,t){if(n(e,t),window.ace){const i=e.querySelector("code");if(i.classList.contains("editable")){const r=window.ace.edit(i);r.addEventListener("change",()=>{n(e,t)}),r.commands.addCommand({name:"run",bindKey:{win:"Ctrl-Enter",mac:"Ctrl-Enter"},exec:t=>o(e)})}}}(e,i))}),hljs.configure({tabReplace:"    ",languages:[]});const i=Array.from(document.querySelectorAll("code")).filter(function(e){return!e.parentElement.classList.contains("header")});window.ace?(i.filter(function(e){return e.classList.contains("editable")}).forEach(function(e){e.classList.remove("language-rust")}),i.filter(function(e){return!e.classList.contains("editable")}).forEach(function(e){hljs.highlightBlock(e)})):i.forEach(function(e){hljs.highlightBlock(e)}),i.forEach(function(e){e.classList.add("hljs")}),Array.from(document.querySelectorAll("code.hljs")).forEach(function(e){if(!Array.from(e.querySelectorAll(".boring")).length)return;e.classList.add("hide-boring");const t=document.createElement("div");t.className="buttons",t.innerHTML='<button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button>';const n=e.parentNode;n.insertBefore(t,n.firstChild),n.querySelector(".buttons").addEventListener("click",function(t){t.target.classList.contains("fa-eye")?(t.target.classList.remove("fa-eye"),t.target.classList.add("fa-eye-slash"),t.target.title="Hide lines",t.target.setAttribute("aria-label",t.target.title),e.classList.remove("hide-boring")):t.target.classList.contains("fa-eye-slash")&&(t.target.classList.remove("fa-eye-slash"),t.target.classList.add("fa-eye"),t.target.title="Show hidden lines",t.target.setAttribute("aria-label",t.target.title),e.classList.add("hide-boring"))})}),window.playground_copyable&&Array.from(document.querySelectorAll("pre code")).forEach(function(e){const t=e.parentNode;if(!t.classList.contains("playground")){let e=t.querySelector(".buttons");e||(e=document.createElement("div"),e.className="buttons",t.insertBefore(e,t.firstChild));const n=document.createElement("button");n.className="clip-button",n.title="Copy to clipboard",n.setAttribute("aria-label",n.title),n.innerHTML='<i class="tooltiptext"></i>',e.insertBefore(n,e.firstChild)}}),Array.from(document.querySelectorAll(".playground")).forEach(function(e){let t=e.querySelector(".buttons");t||(t=document.createElement("div"),t.className="buttons",e.insertBefore(t,e.firstChild));const n=document.createElement("button");if(n.className="fa fa-play play-button",n.hidden=!0,n.title="Run this code",n.setAttribute("aria-label",n.title),t.insertBefore(n,t.firstChild),n.addEventListener("click",()=>{o(e)}),window.playground_copyable){const e=document.createElement("button");e.className="clip-button",e.innerHTML='<i class="tooltiptext"></i>',e.title="Copy to clipboard",e.setAttribute("aria-label",e.title),t.insertBefore(e,t.firstChild)}const i=e.querySelector("code");if(window.ace&&i.classList.contains("editable")){const e=document.createElement("button");e.className="fa fa-history reset-button",e.title="Undo changes",e.setAttribute("aria-label",e.title),t.insertBefore(e,t.firstChild),e.addEventListener("click",function(){const e=window.ace.edit(i);e.setValue(e.originalCode),e.clearSelection()})}})}(),function(){const e=document.querySelector("html"),t=document.getElementById("theme-toggle"),n=document.getElementById("theme-list"),o=document.querySelector('meta[name="theme-color"]'),i=[];n.querySelectorAll("button.theme").forEach(function(e){i.push(e.id)});const r={ayuHighlight:document.querySelector("#ayu-highlight-css"),tomorrowNight:document.querySelector("#tomorrow-night-css"),highlight:document.querySelector("#highlight-css")};function s(){n.style.display="none",t.setAttribute("aria-expanded",!1),t.focus()}function c(){let e=null;try{e=localStorage.getItem("mdbook-theme")}catch(e){}return e}function a(){const e=c();return null!=e&&i.includes(e)?e:"undefined"==typeof default_dark_theme?default_theme:window.matchMedia("(prefers-color-scheme: dark)").matches?default_dark_theme:default_light_theme}let l=default_theme;function d(t,i=!0){let s;if("coal"===t||"navy"===t?(r.ayuHighlight.disabled=!0,r.tomorrowNight.disabled=!1,r.highlight.disabled=!0,s="ace/theme/tomorrow_night"):"ayu"===t?(r.ayuHighlight.disabled=!1,r.tomorrowNight.disabled=!0,r.highlight.disabled=!0,s="ace/theme/tomorrow_night"):(r.ayuHighlight.disabled=!0,r.tomorrowNight.disabled=!0,r.highlight.disabled=!1,s="ace/theme/dawn"),setTimeout(function(){o.content=getComputedStyle(document.documentElement).backgroundColor},1),window.ace&&window.editors&&window.editors.forEach(function(e){e.setTheme(s)}),i)try{localStorage.setItem("mdbook-theme",t)}catch(e){}e.classList.remove(l),e.classList.add(t),l=t,function(){n.querySelectorAll(".theme-selected").forEach(function(e){e.classList.remove("theme-selected")});const e=c()??"default_theme";let t=n.querySelector("button#"+e);null===t&&(t=n.querySelector("button#"+a())),t.classList.add("theme-selected")}()}window.matchMedia("(prefers-color-scheme: dark)").onchange=function(){d(a(),!1)},d(a(),!1),t.addEventListener("click",function(){"block"===n.style.display?s():(n.style.display="block",t.setAttribute("aria-expanded",!0),n.querySelector("button#"+a()).focus())}),n.addEventListener("click",function(e){let t;if("theme"===e.target.className)t=e.target.id;else{if("theme"!==e.target.parentElement.className)return;t=e.target.parentElement.id}"default_theme"===t||null===t?(localStorage.removeItem("mdbook-theme"),d(a(),!1)):d(t)}),n.addEventListener("focusout",function(e){!e.relatedTarget||t.contains(e.relatedTarget)||n.contains(e.relatedTarget)||s()}),document.addEventListener("click",function(e){"block"!==n.style.display||t.contains(e.target)||n.contains(e.target)||s()}),document.addEventListener("keydown",function(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(!n.contains(e.target))return;let t;switch(e.key){case"Escape":e.preventDefault(),s();break;case"ArrowUp":e.preventDefault(),t=document.activeElement.parentElement,t&&t.previousElementSibling&&t.previousElementSibling.querySelector("button").focus();break;case"ArrowDown":e.preventDefault(),t=document.activeElement.parentElement,t&&t.nextElementSibling&&t.nextElementSibling.querySelector("button").focus();break;case"Home":e.preventDefault(),n.querySelector("li:first-child button").focus();break;case"End":e.preventDefault(),n.querySelector("li:last-child button").focus()}})}(),function(){const e=document.getElementById("sidebar"),t=document.querySelectorAll("#sidebar a"),n=document.getElementById("sidebar-toggle"),o=document.getElementById("sidebar-resize-handle"),i=document.getElementById("sidebar-toggle-anchor");let r=null;function s(){document.documentElement.classList.add("sidebar-visible"),Array.from(t).forEach(function(e){e.setAttribute("tabIndex",0)}),n.setAttribute("aria-expanded",!0),e.setAttribute("aria-hidden",!1);try{localStorage.setItem("mdbook-sidebar","visible")}catch(e){}}function c(){document.documentElement.classList.remove("sidebar-visible"),Array.from(t).forEach(function(e){e.setAttribute("tabIndex",-1)}),n.setAttribute("aria-expanded",!1),e.setAttribute("aria-hidden",!0);try{localStorage.setItem("mdbook-sidebar","hidden")}catch(e){}}function a(t){let n=t.clientX-e.offsetLeft;n<20?c():(document.documentElement.classList.contains("sidebar-visible")||s(),n=Math.min(n,window.innerWidth-100),document.documentElement.style.setProperty("--sidebar-target-width",n+"px"))}function l(){document.documentElement.classList.remove("sidebar-resizing"),window.removeEventListener("mousemove",a,!1),window.removeEventListener("mouseup",l,!1)}document.documentElement.classList.contains("sidebar-visible")||(e.style.display="none"),e.addEventListener("transitionend",()=>{i.checked||(e.style.display="none")}),n.addEventListener("click",()=>{i.checked||(e.style.display="",e.offsetHeight)}),i.addEventListener("change",function(){i.checked?(parseInt(document.documentElement.style.getPropertyValue("--sidebar-target-width"),10)<150&&document.documentElement.style.setProperty("--sidebar-target-width","150px"),s()):c()}),o.addEventListener("mousedown",function(){window.addEventListener("mousemove",a,!1),window.addEventListener("mouseup",l,!1),document.documentElement.classList.add("sidebar-resizing")},!1),document.addEventListener("touchstart",function(e){r={x:e.touches[0].clientX,time:Date.now()}},{passive:!0}),document.addEventListener("touchmove",function(e){if(!r)return;const t=e.touches[0].clientX,n=t-r.x;Date.now()-r.time<250&&Math.abs(n)>=150&&(n>=0&&r.x<Math.min(.25*document.body.clientWidth,300)?s():n<0&&t<300&&c(),r=null)},{passive:!0})}(),document.addEventListener("keydown",function(e){if(e.altKey||e.ctrlKey||e.metaKey)return;if(window.search&&window.search.hasFocus())return;const t=document.querySelector("html");function n(){const e=document.querySelector(".nav-chapters.next");e&&(window.location.href=e.href)}function o(){const e=document.querySelector(".nav-chapters.previous");e&&(window.location.href=e.href)}function i(){document.getElementById("mdbook-help-container").style.display="none"}if("?"===e.key&&(e.preventDefault(),function(){const e=document.getElementById("mdbook-help-container"),t=document.getElementById("mdbook-help-popup");e.style.display="flex";const n=e=>{t.contains(e.target)||0===e.button&&(e.preventDefault(),e.stopPropagation(),document.removeEventListener("mousedown",n),i())},o=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),document.removeEventListener("keydown",o,!0),i())};document.addEventListener("keydown",o,!0),document.getElementById("mdbook-help-container").addEventListener("mousedown",n)}()),!e.shiftKey)switch(e.key){case"ArrowRight":e.preventDefault(),"rtl"===t.dir?o():n();break;case"ArrowLeft":e.preventDefault(),"rtl"===t.dir?n():o()}}),function(){const e=document.querySelectorAll(".clip-button");function t(e){e.firstChild.innerText="",e.className="clip-button"}function n(e,t){e.firstChild.innerText=t,e.className="clip-button tooltipped"}const o=new ClipboardJS(".clip-button",{text:function(e){return t(e),playground_text(e.closest("pre"),!1)}});Array.from(e).forEach(function(e){e.addEventListener("mouseout",function(e){t(e.currentTarget)})}),o.on("success",function(e){e.clearSelection(),n(e.trigger,"Copied!")}),o.on("error",function(e){n(e.trigger,"Clipboard error!")})}(),document.querySelector(".menu-title").addEventListener("click",function(){document.scrollingElement.scrollTo({top:0,behavior:"smooth"})}),function(){const e=document.getElementById("menu-bar");!function(){let t=document.scrollingElement.scrollTop,n=t;const o=-e.clientHeight-50;e.style.top=t+"px";let i=e.style.top.slice(0,-2);e.classList.remove("sticky");let r=!1;document.addEventListener("scroll",function(){t=Math.max(document.scrollingElement.scrollTop,0);let s=null,c=null;const a=i-t;t>n?(s=!1,a>0&&(c=n)):a>0?s=!0:a<o&&(c=n+o),!0===s&&!1===r?(e.classList.add("sticky"),r=!0):!1===s&&!0===r&&(e.classList.remove("sticky"),r=!1),null!==c&&(e.style.top=c+"px",i=c),n=t},{passive:!0})}(),function(){function t(){0===e.offsetTop?e.classList.remove("bordered"):e.classList.add("bordered")}t(),document.addEventListener("scroll",t,{passive:!0})}()}();