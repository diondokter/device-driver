"use strict";window.search=window.search||{},function e(){if(!Mark||!elasticlunr)return;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const t=document.getElementById("search-wrapper"),s=document.getElementById("searchbar-outer"),n=document.getElementById("searchbar"),r=document.getElementById("searchresults"),o=document.getElementById("searchresults-outer"),a=document.getElementById("searchresults-header"),c=document.getElementById("search-toggle"),l=document.getElementById("content"),i=["text"],u=new Mark(l),d="search",p="highlight";let h="",m=[],f={bool:"AND",expand:!0,fields:{title:{boost:1},body:{boost:1},breadcrumbs:{boost:0}}},w=null,y={teaser_word_count:30,limit_results:30},g=0;function _(){return n===document.activeElement}function v(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function L(e){const t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,params:function(){const e={},s=t.search.replace(/^\?/,"").split("&");for(const t of s){if(!t)continue;const s=t.split("=");e[s[0]]=s[1]}return e}(),file:(t.pathname.match(/\/([^/?#]+)$/i)||["",""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^/])/,"/$1")}}function b(e){let t=e.protocol+"://"+e.host;""!==e.port&&(t+=":"+e.port),t+=e.path;let s="?";for(const n in e.params)Object.prototype.hasOwnProperty.call(e.params,n)&&(t+=s+n+"="+e.params[n],s="&");return""!==e.hash&&(t+="#"+e.hash),t}const E=function(){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>'"]/g,t)}}();function k(e,t){const s=function(e,t){const s=t.map(function(e){return elasticlunr.stemmer(e.toLowerCase())}),n=[],r=e.toLowerCase().split(". ");let o=0,a=0,c=!1;for(const e in r){const t=r[e].split(" ");a=8;for(const e in t){const r=t[e];if(r.length>0){for(const e in s)elasticlunr.stemmer(r).startsWith(s[e])&&(a=40,c=!0);n.push([r,a,o]),a=2}o+=r.length,o+=1}o+=1}if(0===n.length)return e;const l=[],i=Math.min(n.length,y.teaser_word_count);let u=0;for(let e=0;e<i;e++)u+=n[e][1];l.push(u);for(let e=0;e<n.length-i;e++)u-=n[e][1],u+=n[e+i][1],l.push(u);let d=0;if(c){let e=0;for(let t=l.length-1;t>=0;t--)l[t]>e&&(e=l[t],d=t)}else d=0;const p=[];o=n[d][2];for(let t=d;t<d+i;t++){const s=n[t];o<s[2]&&(p.push(e.substring(o,s[2])),o=s[2]),40===s[1]&&p.push("<em>"),o=s[2]+s[0].length,p.push(e.substring(s[2],o)),40===s[1]&&p.push("</em>")}return p.join("")}(E(e.doc.body),t);g++;const n=m[e.ref].split("#");1===n.length&&n.push("");const r=encodeURIComponent(t.join(" ")).replace(/'/g,"%27");return'<a href="'+path_to_root+n[0]+"?"+p+"="+r+"#"+n[1]+'" aria-details="teaser_'+g+'">'+e.doc.breadcrumbs+'</a><span class="teaser" id="teaser_'+g+'" aria-label="Search Result Teaser">'+s+"</span>"}var x;function I(){const e=document.createElement("input");e.setAttribute("style","position: absolute; opacity: 0;"),c.appendChild(e),e.focus(),e.remove()}function C(){const e=L(window.location.href);if(Object.prototype.hasOwnProperty.call(e.params,d)&&""!==e.params[d]?(S(!0),n.value=decodeURIComponent((e.params[d]+"").replace(/\+/g,"%20")),B()):S(!1),Object.prototype.hasOwnProperty.call(e.params,p)){const t=decodeURIComponent(e.params[p]).split(" ");u.mark(t,{exclude:i});const s=document.querySelectorAll("mark"),n=()=>{for(let e=0;e<s.length;e++)s[e].classList.add("fade-out"),window.setTimeout(()=>{u.unmark()},300)};for(let e=0;e<s.length;e++)s[e].addEventListener("click",n)}}function S(e){if(e)(function(e,t){if(document.getElementById(t))return;s.classList.add("searching");const r=document.createElement("script");r.src=e,r.id=t,r.onload=()=>function(e){y=e.results_options,f=e.search_options,m=e.doc_urls,w=elasticlunr.Index.load(e.index),s.classList.remove("searching"),n.focus();const t=n.value.trim();""!==t&&(n.classList.add("active"),j(t))}(window.search),r.onerror=t=>{console.error(`Failed to load \`${e}\`: ${t}`)},document.head.append(r)})(window.path_to_searchindex_js||path_to_root+"searchindex.js","search-index"),t.classList.remove("hidden"),c.setAttribute("aria-expanded","true");else{t.classList.add("hidden"),c.setAttribute("aria-expanded","false");const e=r.children;for(let t=0;t<e.length;t++)e[t].classList.remove("focus")}}function A(e){e?o.classList.remove("hidden"):o.classList.add("hidden")}function B(){const e=n.value.trim();""!==e?(n.classList.add("active"),j(e)):(n.classList.remove("active"),A(!1),v(r)),D(e,"push_if_new_search_else_replace"),u.unmark()}function D(e,t){const s=L(window.location.href),n=!Object.prototype.hasOwnProperty.call(s.params,d);""!==e||"push_if_new_search_else_replace"===t?(s.params[d]=e,delete s.params[p],s.hash=""):(delete s.params[p],delete s.params[d]),"push"===t||"push_if_new_search_else_replace"===t&&n?history.pushState({},document.title,b(s)):("replace"===t||"push_if_new_search_else_replace"===t&&!n)&&history.replaceState({},document.title,b(s))}function j(e){if(h===e)return;if(s.classList.add("searching"),null===w)return;h=e;const t=w.search(e,f),n=Math.min(t.length,y.limit_results);a.innerText=function(e,t){return 1===e?e+" search result for '"+t+"':":0===e?"No search results for '"+t+"'.":e+" search results for '"+t+"':"}(n,e);const o=e.split(" ");v(r);for(let e=0;e<n;e++){const s=document.createElement("li");s.innerHTML=k(t[e],o),r.appendChild(s)}A(!0),s.classList.remove("searching")}x=window.search,c.addEventListener("click",()=>{t.classList.contains("hidden")?(S(!0),window.scrollTo(0,0),n.select()):S(!1)},!1),n.addEventListener("keyup",()=>{B()},!1),document.addEventListener("keydown",e=>{!function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"textarea"===e.target.type||"text"===e.target.type||!_()&&/^(?:input|select|textarea)$/i.test(e.target.nodeName)))if("Escape"===e.key)e.preventDefault(),n.classList.remove("active"),D("",""!==n.value.trim()?"push":"replace"),_()&&I(),S(!1),u.unmark();else if(_()||"s"!==e.key&&"/"!==e.key)if(!_()||"ArrowDown"!==e.key&&"Enter"!==e.key){if(!_()&&("ArrowDown"===e.key||"ArrowUp"===e.key||"Enter"===e.key)){const t=r.querySelector("li.focus");if(!t)return;if(e.preventDefault(),"ArrowDown"===e.key){const e=t.nextElementSibling;e&&(t.classList.remove("focus"),e.classList.add("focus"))}else if("ArrowUp"===e.key){t.classList.remove("focus");const e=t.previousElementSibling;e?e.classList.add("focus"):n.select()}else window.location.assign(t.querySelector("a"))}}else{e.preventDefault();const t=r.firstElementChild;null!==t&&(I(),t.classList.add("focus"),"Enter"===e.key&&window.location.assign(t.querySelector("a")))}else e.preventDefault(),S(!0),window.scrollTo(0,0),n.select()}(e)},!1),window.onpopstate=()=>{C()},document.addEventListener("submit",e=>{e.preventDefault()},!1),C(),x.hasFocus=_,e.hasFocus=_}(window.search);